{% extends 'users/base.html' %} {% block body %}
<div
  class="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4 transition-colors duration-500"
>
  <div
    class="max-w-md w-full bg-white dark:bg-gray-800 p-8 rounded-xl shadow-xl transition-all duration-500 animate-fade-in-up"
  >
    <!-- Dark Mode Toggle -->
    <div class="flex justify-end mb-4">
      <button
        onclick="toggleDarkMode()"
        class="text-sm text-indigo-600 dark:text-indigo-300 hover:underline"
      >
        Toggle Dark Mode
      </button>
    </div>

    <h2
      class="text-3xl font-extrabold text-center text-indigo-700 dark:text-indigo-300 mb-6"
    >
      Create Your Account
    </h2>

    <!-- Django messages -->
    {% if messages %}
    <div class="mb-4">
      {% for message in messages %}
      <div
        class="p-3 text-sm rounded-md {% if message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-green-100 text-green-800{% endif %}"
      >
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <form method="post" class="space-y-5">
      {% csrf_token %} {{ user_form.non_field_errors }}

      <!-- Username -->
      <div>
        <label
          for="id_username"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Username</label
        >
        <input
          id="id_username"
          name="username"
          type="text"
          maxlength="150"
          required
          class="w-full mt-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition duration-300"
          placeholder="Enter a username"
        />
      </div>

      <!-- Email -->
      <div>
        <label
          for="id_email"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Email</label
        >
        <input
          id="id_email"
          name="email"
          type="email"
          class="w-full mt-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition duration-300"
          placeholder="you@example.com"
        />
      </div>

      <!-- First name -->
      <div>
        <label
          for="id_first_name"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >First Name</label
        >
        <input
          id="id_first_name"
          name="first_name"
          type="text"
          class="w-full mt-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition duration-300"
          placeholder="Kowshik"
        />
      </div>

      <!-- Password -->
      <div>
        <label
          for="id_password1"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Password</label
        >
        <input
          id="id_password1"
          name="password1"
          type="password"
          required
          class="w-full mt-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition duration-300"
          placeholder="••••••••"
        />
      </div>

      <!-- Confirm Password -->
      <div>
        <label
          for="id_password2"
          class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >Confirm Password</label
        >
        <input
          id="id_password2"
          name="password2"
          type="password"
          required
          class="w-full mt-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 focus:outline-none transition duration-300"
          placeholder="••••••••"
        />
      </div>

      <!-- Submit -->
      <div>
        <button
          type="submit"
          class="w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition duration-300 transform hover:scale-105"
        >
          Register
        </button>
      </div>

      <!-- Already Registered -->
      <p class="text-center text-sm text-gray-600 dark:text-gray-400">
        Already have an account?
        <a
          href="{% url 'login' %}"
          class="text-indigo-600 hover:underline dark:text-indigo-400"
          >Login here</a
        >
      </p>
    </form>
  </div>
</div>

<!-- Scripts -->
<script>
  function toggleDarkMode() {
    const html = document.documentElement;
    html.classList.toggle("dark");
    localStorage.setItem(
      "theme",
      html.classList.contains("dark") ? "dark" : "light"
    );
  }

  document.addEventListener("DOMContentLoaded", () => {
    if (localStorage.getItem("theme") === "dark") {
      document.documentElement.classList.add("dark");
    }

    const card = document.querySelector(".animate-fade-in-up");
    card.style.opacity = 0;
    card.style.transform = "translateY(30px)";
    setTimeout(() => {
      card.style.transition = "all 0.6s ease-out";
      card.style.opacity = 1;
      card.style.transform = "translateY(0)";
    }, 100);
  });
</script>

<style>
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }
</style>
{% endblock %}
